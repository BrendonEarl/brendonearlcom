function filter($list, $func){
    $to_return = [];
    foreach ($list as $item){
        if ($func($item)) $to_return[] = $item;
    }
    return $to_return;
}

$func = function ($book){
    return $book['date'] > 2000;
};

$books = [
    'romeo' => [
        'date'=>1500
    ],
    'sierra' => [
        'date'=>2001
    ]
];

var_dump(filter($books,$func));
die();